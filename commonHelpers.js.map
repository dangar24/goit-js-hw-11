{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const options = {\n    key: '43845947-8a1e30f8a3261d274f42ac52c',\n    q: '',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n};\nexport const BASE_URL = 'https://pixabay.com/api/';\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// -----------------------------\nconst inputEl = document.querySelector('.input');\nconst buttonEL = document.querySelector('.form-btn');\nconst formEl = document.querySelector('.box');\nconst listEl = document.querySelector('.img-list');\nconst loader = document.querySelector('span')\n\n// ----------------------------\n// const options = {\n//     key: '43845947-8a1e30f8a3261d274f42ac52c',\n//     q: '',\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n// };\n// const BASE_URL = 'https://pixabay.com/api/';\nimport { options, BASE_URL } from \"./js/pixabay-api\"\n// ----------------------------\n\n\nconst sendForm = (event) => {\n    listEl.innerHTML = \"\";\n    event.currentTarget.reset();\n    event.preventDefault();\n    if (options.q === \"\") {\n        return\n    };\n    let params = `?key=${options.key}&q=${options.q}&image_type=${options.image_type}&orientation=${options.orientation}&safesearch=${options.safesearch}`\n    \n    const fetchPick = () => {\n        return fetch(`${BASE_URL}${params}`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(\"Запит виконався з помилкою\")\n                };\n                return response.json();\n            })\n    };\n    \n    fetchPick()\n        .then(imgs => {\n            loader.classList.add('loader');\n            if (imgs.hits.length === 0) {\n                console.log(\"Sorry, there are no images matching your search query. Please try again!\");\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    maxWidth: '300px',\n                });\n                return\n            }\n            const marcup = imgs.hits.map(img => {\n                return `\n                <li class=\"img-item\">\n                <a class=\"img-link\" href=${img.largeImageURL}>\n                <img src=\"${img.webformatURL}\"\n                alt=\"${img.tags}\"\n                data-source=\"${img.largeImageURL}\" \n                class=\"img\">\n                </a>\n                <div class=\"img-text-box\">\n                <div class=\"img-text\">\n                <h4 class=\"img-text-title\">Likes</h4>\n                <p class=\"img-text-par\">${img.likes}</p>\n                </div>\n                <div class=\"img-text\">\n                <h4 class=\"img-text-title\">Views</h4>\n                <p class=\"img-text-par\">${img.views}</p>\n                </div>\n                <div class=\"img-text\">\n                <h4 class=\"img-text-title\">Comments</h4>\n                <p class=\"img-text-par\">${img.comments}</p>\n                </div>\n                <div class=\"img-text\">\n                <h4 class=\"img-text-title\">Downloads</h4>\n                <p class=\"img-text-par\">${img.downloads}</p>\n                </div>\n                </div>\n                </li>`\n            }).join('');\n            loader.classList.remove('loader');\n            listEl.insertAdjacentHTML('beforeend', marcup);\n        })\n        .catch(error => {\n            console.log(error);\n        });\n    \noptions.q = \"\";\n};\nformEl.addEventListener(\"submit\", sendForm);\n\n\nconst giveValue = (event) => {\n    options.q = event.currentTarget.value;\n};\ninputEl.addEventListener(\"input\", giveValue);\n\nconst openModal = (event) => {\n    if (event.target === event.currentTarget) {\n        return\n    };\n    const instance = basicLightbox.create(`\n    <img\n      src=${event.target.dataset.source}\n      alt=${event.target.alt}\n    />\n`);\n    instance.show();\n    event.preventDefault();\n};\nlistEl.addEventListener(\"click\", openModal);\n"],"names":["options","BASE_URL","inputEl","formEl","listEl","loader","sendForm","event","params","response","imgs","iziToast","marcup","img","error","giveValue","openModal"],"mappings":"svBAAO,MAAMA,EAAU,CACnB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACaC,EAAW,2BCDlBC,EAAU,SAAS,cAAc,QAAQ,EAC9B,SAAS,cAAc,WAAW,EACnD,MAAMC,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAS,SAAS,cAAc,WAAW,EAC3CC,EAAS,SAAS,cAAc,MAAM,EAetCC,EAAYC,GAAU,CAIxB,GAHAH,EAAO,UAAY,GACnBG,EAAM,cAAc,QACpBA,EAAM,eAAc,EAChBP,EAAQ,IAAM,GACd,OAEJ,IAAIQ,EAAS,QAAQR,EAAQ,GAAG,MAAMA,EAAQ,CAAC,eAAeA,EAAQ,UAAU,gBAAgBA,EAAQ,WAAW,eAAeA,EAAQ,UAAU,IAElI,IACP,MAAM,GAAGC,CAAQ,GAAGO,CAAM,EAAE,EAC9B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,4BAA4B,EAEhD,OAAOA,EAAS,MAChC,CAAa,GAGE,EACN,KAAKC,GAAQ,CAEV,GADAL,EAAO,UAAU,IAAI,QAAQ,EACzBK,EAAK,KAAK,SAAW,EAAG,CACxB,QAAQ,IAAI,0EAA0E,EACtFC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,SAAU,OAC9B,CAAiB,EACD,MACH,CACD,MAAMC,EAASF,EAAK,KAAK,IAAIG,GAClB;AAAA;AAAA,2CAEoBA,EAAI,aAAa;AAAA,4BAChCA,EAAI,YAAY;AAAA,uBACrBA,EAAI,IAAI;AAAA,+BACAA,EAAI,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAMNA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,0CAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,0CAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,sBAI1C,EAAE,KAAK,EAAE,EACVR,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAO,mBAAmB,YAAaQ,CAAM,CACzD,CAAS,EACA,MAAME,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EAETd,EAAQ,EAAI,EACZ,EACAG,EAAO,iBAAiB,SAAUG,CAAQ,EAG1C,MAAMS,EAAaR,GAAU,CACzBP,EAAQ,EAAIO,EAAM,cAAc,KACpC,EACAL,EAAQ,iBAAiB,QAASa,CAAS,EAE3C,MAAMC,EAAaT,GAAU,CACzB,GAAIA,EAAM,SAAWA,EAAM,cACvB,OAEa,cAAc,OAAO;AAAA;AAAA,YAE9BA,EAAM,OAAO,QAAQ,MAAM;AAAA,YAC3BA,EAAM,OAAO,GAAG;AAAA;AAAA,CAE3B,EACY,KAAI,EACbA,EAAM,eAAc,CACxB,EACAH,EAAO,iBAAiB,QAASY,CAAS"}